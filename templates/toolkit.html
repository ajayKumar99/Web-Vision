<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Web Vision - Toolkit</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.brown-orange.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.brown-orange.min.css" />
    <link rel="shortcut icon" href="{{ url_for('static' , filename='logo.png') }}" type="image/x-icon">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

    <style>
        .logo {
            background: url('../static/logo.png') center / cover;
            width: 5%;
            height: 100%;
            margin: 0% 2% 0% 0%;
        }

        .toolkit-container {
            display: flex;
        }

        .editor-flex {
            display: flex;
            flex-direction: column;
        }

        .output {
            width: 70%;
        }

        .accordion {
            width: 30%;
        }

        html,
        body,
        main {
            height: 100%;
        }

        .intro {
            background-color: rgba(0, 0, 0, 0.8);
        }

        .but_link {
            color: whitesmoke;
            text-decoration: none;
        }

        .but_link:hover {
            color: white;
            text-decoration: none;
        }

        .but_link:focus {
            color: white;
            text-decoration: none;
        }

        .detail {
            background-color: rgba(0, 0, 0, 0.2);
        }

        .divider {
            height: 100%;
            width: 2px;
            background-color: black;
        }
    </style>
</head>

<body>
    <header class="mdl-layout__header mdl-layout__header--scroll">
        <div class="mdl-layout__header-row">
            <div class="logo"></div>
            <span class="mdl-layout-title">Web Vision</span>
            <div class="mdl-layout-spacer"></div>
            <nav class="mdl-navigation">
                <a class="mdl-navigation__link" href="{{ url_for('index') }}">Home</a>
                <a class="mdl-navigation__link" href="">Developer</a>
                <a class="mdl-navigation__link" href="">API</a>
                <a class="mdl-navigation__link" href="">Documentation</a>
            </nav>
        </div>
    </header>
    <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">Web Vision</span>
        <nav class="mdl-navigation">
            <a class="mdl-navigation__link" href="{{ url_for('index') }}">Home</a>
            <a class="mdl-navigation__link" href="">Developer</a>
            <a class="mdl-navigation__link" href="">API</a>
            <a class="mdl-navigation__link" href="">Documentation</a>
        </nav>
    </div>
    <main>

        <div class="toolkit-container" style="height:100%;">
            <div class="output">
                <iframe src="{{ url_for('generate_template') }}" width="100%" height="100%" id="html_obj"
                    name="editor"></iframe>
            </div>
            <div class="divider"></div>
            <div class="accordion" id="accordionExample">
                <div class="card">
                    <div class="card-header intro" id="headingOne">
                        <h2 class="mb-0">
                            <button class="btn btn-link but_link" type="button" data-toggle="collapse"
                                data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                Size Altering
                            </button>
                        </h2>
                    </div>

                    <div id="collapseOne" class="collapse detail" aria-labelledby="headingOne"
                        data-parent="#accordionExample">
                        <div class="card-body editor-flex">
                            <div class="topics">
                                <h5>Width</h5>
                                <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0"
                                    tabindex="0" id="width">
                            </div>
                            <div class="topics">
                                <h5>Height</h5>
                                <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0"
                                    tabindex="0" id="height">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header intro" id="headingTwo">
                        <h2 class="mb-0">
                            <button class="btn btn-link collapsed but_link" type="button" data-toggle="collapse"
                                data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                Position Altering
                            </button>
                        </h2>
                    </div>
                    <div id="collapseTwo" class="collapse detail" aria-labelledby="headingTwo"
                        data-parent="#accordionExample">
                        <div class="card-body editor-flex">
                            <div class="topics">
                                <h5>Top</h5>
                                <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0"
                                    tabindex="0" id="top">
                            </div>
                            <div class="topics">
                                <h5>Left</h5>
                                <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0"
                                    tabindex="0" id="left">
                            </div>
                            <div class="topics">
                                <h5>Bottom</h5>
                                <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0"
                                    tabindex="0" id="bottom">
                            </div>
                            <div class="topics">
                                <h5>Right</h5>
                                <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0"
                                    tabindex="0" id="right">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header intro" id="headingThree">
                        <h2 class="mb-0">
                            <button class="btn btn-link collapsed but_link" type="button" data-toggle="collapse"
                                data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Text Altering
                            </button>
                        </h2>
                    </div>
                    <div id="collapseThree" class="collapse detail" aria-labelledby="headingThree"
                        data-parent="#accordionExample">
                        <div class="card-body editor-flex">
                            <div class="topics">
                                <h5>Font Size</h5>
                                <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0"
                                    tabindex="0" id="font">
                            </div>
                            <div class="topics">
                                <h5>Font Family</h5>
                                <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0"
                                    tabindex="0" id="s2">
                            </div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-success" onclick="save_file();">Save</button>
            </div>
        </div>

    </main>
    <script>
        var ret_id = "element-0";
        function display_id(some_id) {
            ret_id = some_id
            console.log(ret_id);
        }
        function slider_handler(val, id) {
            console.log(val, id)
            var html_doc_elem = document.getElementById("html_obj").contentDocument.getElementById(ret_id)
            html_doc_elem.style[id] = val + "%"
            console.log(html_doc_elem.style[id])
        }

        function drag_handler() {
            console.log("debug")
        }

        var sliders = document.getElementsByClassName("mdl-slider")
        for (var i = 0; i < sliders.length; i++) {
            sliders[i].oninput = function () {
                slider_handler(this.value, this.id)
            }
        }

        function save_file() {
            var frame_data = document.getElementById("html_obj").contentWindow.document.documentElement.outerHTML;
            console.log(frame_data);
        }

    </script>
</body>

</html>